add_executable(valueFed valueFed.cpp)
link_directories(${external_link_directories})

include_directories(SYSTEM ${Boost_INCLUDE_DIR})
include_directories(SYSTEM ${PROJECT_SOURCE_DIR}/ThirdParty)

target_link_libraries(valueFed helics ${external_library_list})
IF(MINGW)
	target_link_libraries(valueFed ws2_32)
	target_link_libraries(valueFed ws2_32)
ENDIF(MINGW)
			   
add_custom_command(TARGET valueFed POST_BUILD        # Adds a post-build event to api tests
    COMMAND ${CMAKE_COMMAND} -E copy_if_different  # which executes "cmake - E copy_if_different..."
        "${CMAKE_CURRENT_SOURCE_DIR}/run.sh"      # <--this is in-file
	"$<TARGET_FILE_DIR:valueFed>/")                 # <--this is out-file path
	
add_custom_command(TARGET valueFed POST_BUILD        # Adds a post-build event to api tests
    COMMAND ${CMAKE_COMMAND} -E copy_if_different  # which executes "cmake - E copy_if_different..."
        "${CMAKE_CURRENT_SOURCE_DIR}/run.bat"      # <--this is in-file
	"$<TARGET_FILE_DIR:valueFed>/")                 # <--this is out-file path

