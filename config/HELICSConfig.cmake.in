# HELICS cmake module
# This module sets the following variables in your project::
#
#   HELICS_FOUND - true if HELICS found on the system
#   HELICS_INCLUDE_DIR - the directory containing HELICS headers
#   HELICS_C_SHARED_LIBRARY - the C shared library
# 	HELICS_CXX_SHARED_LIBRARY -the C++ shared library

@PACKAGE_INIT@

set(PN HELICS)
set(SAVED_PARENT_CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH})
set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})

include(CMakeFindDependencyMacro)

include(${CMAKE_CURRENT_LIST_DIR}/helics-targets.cmake)

check_required_components(${PN})

if (NOT @HELICS_DISABLE_C_SHARED_LIB@)
    get_target_property(${PN}_C_SHARED_LIBRARY HELICS::helicsSharedLib LOCATION)
endif()

if (@HELICS_BUILD_CXX_SHARED_LIB@)
    get_target_property(${PN}_CXX_SHARED_LIBRARY HELICS::helics-shared LOCATION)
    if (EXISTS ${CMAKE_CURRENT_LIST_DIR}/include)
        set_property(TARGET HELICS::helics-shared APPEND PROPERTY
            INTERFACE_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_LIST_DIR}/include"
        )
    endif()
    
	get_target_property(${PN}_INCLUDE_DIRS HELICS::helics-shared INTERFACE_INCLUDE_DIRECTORIES)
elseif (NOT @HELICS_DISABLE_C_SHARED_LIB@)
	get_target_property(HELICS_LIB_LOCATION HELICS::helicsSharedLib LOCATION)
	get_target_property(${PN}_INCLUDE_DIRS HELICS::helicsSharedLib INTERFACE_INCLUDE_DIRECTORIES)
endif()

message(STATUS "INCLUDE DIRS HELICS: ${HELICS_INCLUDE_DIRS}")
message(STATUS "C_SHARED_LIBRARY: ${HELICS_C_SHARED_LIBRARY}")

if (TARGET HELICS::helics_player)
	add_executable(HELICS::Player ALIAS HELICS::helics_player)
endif()

if (TARGET HELICS::helics_recorder)
	add_executable(HELICS::Recorder ALIAS HELICS::helics_recorder)
endif()

if (TARGET HELICS::helics_broker)
	add_executable(HELICS::Broker ALIAS HELICS::helics_broker)
endif()

if (TARGET HELICS::helics_broker_server)
	add_executable(HELICS::Broker_server ALIAS HELICS::helics_broker_server)
endif()

if (TARGET HELICS::helics_app)
	add_executable(HELICS::App ALIAS HELICS::helics_app)
endif()

set(CMAKE_MODULE_PATH ${SAVED_PARENT_CMAKE_MODULE_PATH})
